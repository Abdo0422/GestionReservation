{"ast":null,"code":"import _objectSpread from \"C:/Users/abdo loubachi/OneDrive/Documents/GitHub/GestionReservation/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createStore, combineReducers } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport axios from 'axios';\nconst initialState = {\n  users: [],\n  reservations: [],\n  departments: [],\n  employees: [],\n  user: null,\n  role: null,\n  username: null,\n  numdep: null\n};\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.user;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'LOGIN':\n      return action.payload;\n    case 'LOGOUT':\n      return null;\n    default:\n      return state;\n  }\n};\nconst roleReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'LOGIN':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        role: action.payload.role,\n        username: action.payload.username,\n        numdep: action.payload.numdep // Update numdep\n      });\n    case 'LOGOUT':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        role: null,\n        username: null,\n        numdep: null\n      });\n    default:\n      return state;\n  }\n};\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.users;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'GET_USERS':\n      return action.payload;\n    default:\n      return state;\n  }\n};\nconst reservationsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.reservations;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'GET_RESERVATIONS':\n      return action.payload;\n    default:\n      return state;\n  }\n};\nconst departmentsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.departments;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'GET_DEPARTMENTS':\n      return action.payload;\n    default:\n      return state;\n  }\n};\nconst employeesReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.employees;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case 'GET_EMPLOYEES':\n      return action.payload;\n    default:\n      return state;\n  }\n};\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['user', 'role']\n};\nconst rootReducer = combineReducers({\n  user: userReducer,\n  role: roleReducer,\n  users: usersReducer,\n  reservations: reservationsReducer,\n  departments: departmentsReducer,\n  employees: employeesReducer\n});\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(persistedReducer);\nconst persistor = persistStore(store);\nexport { store, persistor };","map":{"version":3,"names":["createStore","combineReducers","persistStore","persistReducer","storage","axios","initialState","users","reservations","departments","employees","user","role","username","numdep","userReducer","state","arguments","length","undefined","action","type","payload","roleReducer","_objectSpread","usersReducer","reservationsReducer","departmentsReducer","employeesReducer","persistConfig","key","whitelist","rootReducer","persistedReducer","store","persistor"],"sources":["C:/Users/abdo loubachi/OneDrive/Documents/GitHub/GestionReservation/src/store.jsx"],"sourcesContent":["import { createStore, combineReducers } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage'; \r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  reservations: [],\r\n  departments: [],\r\n  employees: [],\r\n  user: null,\r\n  role: null,\r\n  username: null,      \r\n  numdep: null,\r\n};\r\n\r\nconst userReducer = (state = initialState.user, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      return action.payload;\r\n    case 'LOGOUT':\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst roleReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      return {\r\n        ...state,\r\n        role: action.payload.role,\r\n        username: action.payload.username,  \r\n        numdep: action.payload.numdep,      // Update numdep\r\n      };\r\n    case 'LOGOUT':\r\n      return {\r\n        ...state,\r\n        role: null,\r\n        username: null,\r\n        numdep: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nconst usersReducer = (state = initialState.users, action) => {\r\n  switch (action.type) {\r\n    case 'GET_USERS':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst reservationsReducer = (state = initialState.reservations, action) => {\r\n  switch (action.type) {\r\n    case 'GET_RESERVATIONS':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst departmentsReducer = (state = initialState.departments, action) => {\r\n  switch (action.type) {\r\n    case 'GET_DEPARTMENTS':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst employeesReducer = (state = initialState.employees, action) => {\r\n  switch (action.type) {\r\n    case 'GET_EMPLOYEES':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['user', 'role'], \r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  role: roleReducer,\r\n  users: usersReducer,\r\n  reservations: reservationsReducer,\r\n  departments: departmentsReducer,\r\n  employees: employeesReducer,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = createStore(persistedReducer);\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}