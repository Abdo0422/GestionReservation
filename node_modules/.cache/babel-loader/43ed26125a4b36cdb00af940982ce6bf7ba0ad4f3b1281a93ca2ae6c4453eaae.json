{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdo loubachi\\\\OneDrive\\\\Documents\\\\GitHub\\\\GestionReservation\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Box, Typography, Grid, Container, Paper, CircularProgress, styled } from '@mui/material';\nimport { useDispatch } from 'react-redux';\nimport { login } from '../features/actions';\nimport axios from '../features/axios';\n\n// Styled Components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledPaper = styled(Paper)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    padding: '20px 30px',\n    borderRadius: '10px',\n    boxShadow: '0px 4px 20px rgba(0, 0, 0, 0.1)',\n    backgroundColor: '#fff'\n  };\n});\n_c = StyledPaper;\nconst StyledButton = styled(Button)(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    padding: '10px 20px',\n    borderRadius: '8px',\n    fontSize: '1rem',\n    color: '#fff',\n    background: 'linear-gradient(45deg, #059669, #10B981)',\n    '&:hover': {\n      background: 'linear-gradient(45deg, #10B981, #059669)'\n    }\n  };\n});\n_c2 = StyledButton;\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post('/login', {\n        email,\n        password\n      });\n      dispatch(login({\n        user: response.data,\n        role: response.data.role,\n        name: response.data.name,\n        email: response.data.email,\n        numdep: response.data.numdep\n      }));\n      window.location.href = '/';\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Erreur de connexion:\", error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Une erreur s\\'est produite lors de la connexion.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        align: \"center\",\n        sx: {\n          mb: 3,\n          fontWeight: 600\n        },\n        children: \"Connexion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Email\",\n              type: \"email\",\n              value: email,\n              onChange: event => setEmail(event.target.value),\n              variant: \"outlined\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Mot de passe\",\n              type: \"password\",\n              value: password,\n              onChange: event => setPassword(event.target.value),\n              variant: \"outlined\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(StyledButton, {\n              fullWidth: true,\n              type: \"submit\",\n              disabled: loading,\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24,\n                color: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 28\n              }, this) : 'Se connecter'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"error\",\n              variant: \"body2\",\n              align: \"center\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"MIdJASJ1eIsfKbIHHx/xRP1YjlE=\", false, function () {\n  return [useDispatch];\n});\n_c3 = Login;\nexport default Login;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StyledPaper\");\n$RefreshReg$(_c2, \"StyledButton\");\n$RefreshReg$(_c3, \"Login\");","map":{"version":3,"names":["React","useState","TextField","Button","Box","Typography","Grid","Container","Paper","CircularProgress","styled","useDispatch","login","axios","jsxDEV","_jsxDEV","StyledPaper","_ref","theme","padding","borderRadius","boxShadow","backgroundColor","_c","StyledButton","_ref2","fontSize","color","background","_c2","Login","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","dispatch","handleSubmit","event","preventDefault","response","post","user","data","role","name","numdep","window","location","href","_error$response","_error$response$data","console","maxWidth","children","variant","align","sx","mb","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","container","spacing","item","xs","fullWidth","label","type","value","onChange","target","required","disabled","size","_c3","$RefreshReg$"],"sources":["C:/Users/abdo loubachi/OneDrive/Documents/GitHub/GestionReservation/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Box, Typography, Grid, Container, Paper, CircularProgress, styled  } from '@mui/material';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../features/actions';\r\nimport axios from '../features/axios';\r\n\r\n// Styled Components\r\nconst StyledPaper = styled(Paper)(({ theme }) => ({\r\n  padding: '20px 30px',\r\n  borderRadius: '10px',\r\n  boxShadow: '0px 4px 20px rgba(0, 0, 0, 0.1)',\r\n  backgroundColor: '#fff',\r\n}));\r\n\r\nconst StyledButton = styled(Button)(({ theme }) => ({\r\n  padding: '10px 20px',\r\n  borderRadius: '8px',\r\n  fontSize: '1rem',\r\n  color: '#fff',\r\n  background: 'linear-gradient(45deg, #059669, #10B981)',\r\n  '&:hover': {\r\n    background: 'linear-gradient(45deg, #10B981, #059669)',\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    setError(null); \r\n\r\n    try {\r\n      const response = await axios.post('/login', { email, password }); \r\n\r\n      dispatch(login({\r\n        user: response.data, \r\n        role: response.data.role,\r\n        name: response.data.name,  \r\n        email: response.data.email,  \r\n        numdep: response.data.numdep, \r\n      }));\r\n\r\n      window.location.href = '/'; \r\n    } catch (error) {\r\n      console.error(\"Erreur de connexion:\", error); \r\n      setError(error.response?.data?.error || 'Une erreur s\\'est produite lors de la connexion.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <StyledPaper>\r\n        <Typography variant=\"h4\" align=\"center\" sx={{ mb: 3, fontWeight: 600 }}>\r\n          Connexion\r\n        </Typography>\r\n        <form onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(event) => setEmail(event.target.value)}\r\n                variant=\"outlined\"\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Mot de passe\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(event) => setPassword(event.target.value)}\r\n                variant=\"outlined\"\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <StyledButton\r\n                fullWidth\r\n                type=\"submit\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? <CircularProgress size={24} color=\"inherit\" /> : 'Se connecter'}\r\n              </StyledButton>\r\n            </Grid>\r\n            {error && (\r\n              <Grid item xs={12}>\r\n                <Typography color=\"error\" variant=\"body2\" align=\"center\">\r\n                  {error}\r\n                </Typography>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </form>\r\n      </StyledPaper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}